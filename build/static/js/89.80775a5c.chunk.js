"use strict";(self.webpackChunkforward_portal=self.webpackChunkforward_portal||[]).push([[89],{56512:(e,r,t)=>{t.d(r,{Z:()=>a});t(72791);var o=t(94294),n=t(80184);const a=e=>{const{onAddclick:r,isDisable:t,label:a,...s}=e;return(0,n.jsx)(o.Z,{size:"small",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2,textTransform:"none"},type:"submit",onClick:e=>(e=>{e.preventDefault(),r()})(e),disabled:t,...s,children:a})}},60089:(e,r,t)=>{t.r(r),t.d(r,{default:()=>F});var o=t(72791),n=(t(5462),t(4708)),a=t(35527),s=t(697),i=t(61889),l=t(61979),c=t(13967),u=t(44507),d=t(73598),m=t(20890),p=t(39203),h=t(49418);const v=h.Z["SIGNIN.HEADER.LABEL"],g=h.Z["SIGNIN.EMAIL.LABEL"],x=h.Z["SIGNIN.EMAIL.PLACEHOLDER"],f=(h.Z["SIGNIN.EMAIL.ERROR"],h.Z["SIGNIN.PASSWORD.LABEL"]),Z=h.Z["SIGNIN.PASSWORD.PLACEHOLDER"],b=h.Z["SIGNIN.PASSWORD.ERROR"],S=h.Z["SIGNIN.SUBMIT.LABEL"],y=h.Z["SIGNUP.FORGOT.HYPERTEXT"];h.Z["FORGET.HYPERTEXT"],h.Z["WEBSITE.LABEL"];var j=t(93044),w=t(56512),R=t(50533),A=t(16856),N=t(80184);const k=e=>{const{handleFormData:r}=e,[t,n]=(0,o.useState)({value:"",error:!1,success:!1}),[a,l]=(0,o.useState)({value:"",error:!1,success:!1});let c=t.error||a.error||""===t.value||""===a.value||!1===t.success||!1===a.success;return(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(j.Z,{sx:{bgcolor:"secondary.main"},children:(0,N.jsx)(A.RTn,{})}),(0,N.jsx)(m.Z,{variant:"h6",mb:2,mt:2,children:v}),(0,N.jsxs)(s.Z,{component:"form",className:"login_right_box",noValidate:!0,children:[(0,N.jsx)(i.ZP,{children:(0,N.jsx)(p.Z,{type:"email",label:g,placeholder:x,CustomErrorLine:"Please enter a valid email",value:t.value,onChangeText:e=>{n(e)},Required:!0})}),(0,N.jsx)(i.ZP,{children:(0,N.jsx)(p.Z,{type:"password",label:f,placeholder:Z,CustomErrorLine:b,value:a.value,onChangeText:e=>{l(e)},Required:!0})}),(0,N.jsx)(m.Z,{component:"h4",variant:"caption",gutterBottom:!0,textAlign:"end",children:(0,N.jsx)(R.Z,{sx:{textDecoration:"none"},href:"/forgotpassword",children:y})}),(0,N.jsx)(i.ZP,{mt:1,children:(0,N.jsx)(w.Z,{onAddclick:e=>{const o={email:t.value,password:a.value};r(o)},label:S,isDisable:c})})]}),(0,N.jsx)("div",{className:"signup_div",children:(0,N.jsxs)(m.Z,{component:"h5",variant:"body2",gutterBottom:!0,align:"center",mt:3,mb:3,children:["Don't have an account ?"," ",(0,N.jsx)(R.Z,{sx:{textDecoration:"none"},href:"/signup",children:"Register Now"})]})})]})};var D=t(10918),I=t(57689),E=t(94070),P=t(93543),L=t(12581);var C=t(55294);const T=(0,l.Z)(),O=o.forwardRef((function(e,r){return(0,N.jsx)(E.Z,{elevation:6,ref:r,variant:"filled",...e})})),F=e=>{const r=(0,c.Z)(),t=(0,I.s0)(),l=(0,D.TV)(r.palette.mode),{loading_signin:m}=e,[p,h]=(0,o.useState)(!1),[v,g]=(0,o.useState)(null),[x,f]=(0,o.useState)(),[Z,b]=(0,o.useState)(""),[S,y]=(0,o.useState)({open:!1,vertical:"top",horizontal:"right"}),[j,w]=(0,o.useState)(""),{vertical:R,horizontal:A,open:E}=S,F=(e,r)=>{"clickaway"!==r&&y({...S,open:!1})};(0,o.useEffect)((()=>{h(m)}),[m]);return(0,o.useEffect)((()=>{let e={"Content-Type":"application/json"};null!==v&&(e.Authorization="Bearer ".concat(x.token),C.Z.get("".concat("http://139.84.169.123/portalforwarding/backend/public/api","/permission/permission-by-group/").concat(v),{headers:e}).then((e=>{var r,o;const n=null===(r=e.data)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.role_permissions.map((e=>e.slug));localStorage.setItem("authorization",JSON.stringify(n)),localStorage.setItem("user",JSON.stringify(x)),b("Login Successfully"),w("success"),y({...S,open:!0}),setTimeout((()=>{t("/"),window.location.reload()}),500)})).catch((e=>{console.log(e)})))}),[v]),(0,N.jsxs)(N.Fragment,{children:[p&&(0,N.jsx)(d.Z,{}),(0,N.jsx)(P.Z,{open:E,anchorOrigin:{vertical:R,horizontal:A},autoHideDuration:2e3,onClose:F,children:(0,N.jsx)(O,{onClose:F,severity:j,sx:{width:"100%"},children:Z})}),(0,N.jsx)(u.Z,{theme:T,children:(0,N.jsxs)(i.ZP,{container:!0,component:"main",sx:{height:"100vh"},children:[(0,N.jsx)(n.ZP,{}),(0,N.jsx)(i.ZP,{className:"login_left_grid",item:!0,xs:!1,sm:6,md:6,sx:{backgroundColor:l.primary[500]}}),(0,N.jsx)(i.ZP,{item:!0,xs:12,sm:6,md:6,component:a.Z,elevation:5,square:!0,sx:{boxShadow:"none",paddingLeft:"10px",paddingRight:"10px",margin:"auto"},children:(0,N.jsx)(s.Z,{sx:{padding:3,display:"flex",flexDirection:"column",alignItems:"center",boxShadow:"none !important",width:"100%"},children:(0,N.jsx)(k,{handleFormData:e=>{var r;h(!0),(r=e,(0,L.o)({method:"POST",url:"/login",data:r})).then((e=>{var r,t,o;h(!1);const n={user_id:e.data.data.id,token:e.data.data.token,user_data:e.data.data};f(n),g(null===(r=e.data)||void 0===r||null===(t=r.data)||void 0===t||null===(o=t.roles[0])||void 0===o?void 0:o.slug)})).catch((r=>{403===r.code?(w("warning"),b(r.message),y({...S,open:!0}),setTimeout((()=>{t("/verify",{state:{login_id:e.email}})}),2e3)):(r.code,b(r.message),w("error"),y({...S,open:!0})),h(!1)}))}})})})]})})]})}},93044:(e,r,t)=>{t.d(r,{Z:()=>b});var o=t(63366),n=t(87462),a=t(72791),s=t(63733),i=t(94419),l=t(66934),c=t(31402),u=t(76189),d=t(80184);const m=(0,u.Z)((0,d.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var p=t(75878),h=t(21217);function v(e){return(0,h.Z)("MuiAvatar",e)}(0,p.Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const g=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],x=(0,l.ZP)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,r[t.variant],t.colorDefault&&r.colorDefault]}})((e=>{let{theme:r,ownerState:t}=e;return(0,n.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:r.typography.fontFamily,fontSize:r.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===t.variant&&{borderRadius:(r.vars||r).shape.borderRadius},"square"===t.variant&&{borderRadius:0},t.colorDefault&&(0,n.Z)({color:(r.vars||r).palette.background.default},r.vars?{backgroundColor:r.vars.palette.Avatar.defaultBg}:{backgroundColor:"light"===r.palette.mode?r.palette.grey[400]:r.palette.grey[600]}))})),f=(0,l.ZP)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,r)=>r.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Z=(0,l.ZP)(m,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,r)=>r.fallback})({width:"75%",height:"75%"});const b=a.forwardRef((function(e,r){const t=(0,c.Z)({props:e,name:"MuiAvatar"}),{alt:l,children:u,className:m,component:p="div",imgProps:h,sizes:b,src:S,srcSet:y,variant:j="circular"}=t,w=(0,o.Z)(t,g);let R=null;const A=function(e){let{crossOrigin:r,referrerPolicy:t,src:o,srcSet:n}=e;const[s,i]=a.useState(!1);return a.useEffect((()=>{if(!o&&!n)return;i(!1);let e=!0;const a=new Image;return a.onload=()=>{e&&i("loaded")},a.onerror=()=>{e&&i("error")},a.crossOrigin=r,a.referrerPolicy=t,a.src=o,n&&(a.srcset=n),()=>{e=!1}}),[r,t,o,n]),s}((0,n.Z)({},h,{src:S,srcSet:y})),N=S||y,k=N&&"error"!==A,D=(0,n.Z)({},t,{colorDefault:!k,component:p,variant:j}),I=(e=>{const{classes:r,variant:t,colorDefault:o}=e,n={root:["root",t,o&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,i.Z)(n,v,r)})(D);return R=k?(0,d.jsx)(f,(0,n.Z)({alt:l,srcSet:y,src:S,sizes:b,ownerState:D,className:I.img},h)):null!=u?u:N&&l?l[0]:(0,d.jsx)(Z,{ownerState:D,className:I.fallback}),(0,d.jsx)(x,(0,n.Z)({as:p,ownerState:D,className:(0,s.Z)(I.root,m),ref:r},w,{children:R}))}))},50533:(e,r,t)=>{t.d(r,{Z:()=>R});var o=t(63366),n=t(87462),a=t(72791),s=t(63733),i=t(94419),l=t(14036),c=t(66934),u=t(31402),d=t(68221),m=t(42071),p=t(20890),h=t(75878),v=t(21217);function g(e){return(0,v.Z)("MuiLink",e)}const x=(0,h.Z)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]);var f=t(18529),Z=t(12065);const b={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},S=e=>{let{theme:r,ownerState:t}=e;const o=(e=>b[e]||e)(t.color),n=(0,f.DW)(r,"palette.".concat(o),!1)||t.color,a=(0,f.DW)(r,"palette.".concat(o,"Channel"));return"vars"in r&&a?"rgba(".concat(a," / 0.4)"):(0,Z.Fq)(n,.4)};var y=t(80184);const j=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],w=(0,c.ZP)(p.Z,{name:"MuiLink",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:t}=e;return[r.root,r["underline".concat((0,l.Z)(t.underline))],"button"===t.component&&r.button]}})((e=>{let{theme:r,ownerState:t}=e;return(0,n.Z)({},"none"===t.underline&&{textDecoration:"none"},"hover"===t.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===t.underline&&(0,n.Z)({textDecoration:"underline"},"inherit"!==t.color&&{textDecorationColor:S({theme:r,ownerState:t})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===t.component&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(x.focusVisible)]:{outline:"auto"}})})),R=a.forwardRef((function(e,r){const t=(0,u.Z)({props:e,name:"MuiLink"}),{className:c,color:p="primary",component:h="a",onBlur:v,onFocus:x,TypographyClasses:f,underline:Z="always",variant:S="inherit",sx:R}=t,A=(0,o.Z)(t,j),{isFocusVisibleRef:N,onBlur:k,onFocus:D,ref:I}=(0,d.Z)(),[E,P]=a.useState(!1),L=(0,m.Z)(r,I),C=(0,n.Z)({},t,{color:p,component:h,focusVisible:E,underline:Z,variant:S}),T=(e=>{const{classes:r,component:t,focusVisible:o,underline:n}=e,a={root:["root","underline".concat((0,l.Z)(n)),"button"===t&&"button",o&&"focusVisible"]};return(0,i.Z)(a,g,r)})(C);return(0,y.jsx)(w,(0,n.Z)({color:p,className:(0,s.Z)(T.root,c),classes:f,component:h,onBlur:e=>{k(e),!1===N.current&&P(!1),v&&v(e)},onFocus:e=>{D(e),!0===N.current&&P(!0),x&&x(e)},ref:L,ownerState:C,variant:S,sx:[...Object.keys(b).includes(p)?[]:[{color:p}],...Array.isArray(R)?R:[R]]},A))}))},5462:()=>{}}]);
//# sourceMappingURL=89.80775a5c.chunk.js.map