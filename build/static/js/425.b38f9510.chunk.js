"use strict";(self.webpackChunkforward_portal=self.webpackChunkforward_portal||[]).push([[425],{39336:(e,l,a)=>{a.d(l,{Z:()=>c});var t=a(11087),r=a(66934),o=a(12065),s=a(93517),i=a(81918),n=a(80184);const c=e=>{const{pathList:l}=e,a=(0,r.ZP)(i.Z)((e=>{let{theme:l}=e;const a="light"===l.palette.mode?l.palette.grey[300]:l.palette.grey[800];return{backgroundColor:a,height:l.spacing(3),color:"light"===l.palette.mode?"#141414":"#f3f6f4",fontWeight:l.typography.fontWeightRegular,"&:hover, &:focus":{backgroundColor:(0,o._4)(a,.06)},"&:active":{boxShadow:l.shadows[1],backgroundColor:(0,o._4)(a,.12)}}}));return(0,n.jsx)("div",{role:"presentation",children:(0,n.jsx)(s.Z,{"aria-label":"breadcrumb",children:l.length&&l.map(((e,r)=>r===l.length-1?(0,n.jsx)(a,{label:e.name,icon:e.icon},r):(0,n.jsx)(t.rU,{to:{pathname:"/".concat(e.path)},children:(0,n.jsx)(a,{icon:e.icon,label:e.name})},r)))})})}},52638:(e,l,a)=>{a.d(l,{Z:()=>g});var t=a(72791),r=a(13967),o=a(697),s=a(81918),i=a(30829),n=a(23786),c=a(47071),d=a(68096),u=a(58406),h=a(77196),p=a(94454),m=a(49900),x=a(80184);const g=e=>{const{Options:l,Value:a,label:g,CustomErrorLine:v,multiSelect:b,Required:j,disable:S,defaultValue:Z,onSelect:E,...f}=e,C=(0,r.Z)(),[k,y]=(0,t.useState)({value:"",error:!1,success:!1}),[w,R]=(0,t.useState)({value:Z||[],error:!1,success:!1}),[O,I]=(0,t.useState)("");return(0,x.jsxs)(d.Z,{fullWidth:!0,size:"small",margin:"normal",children:[(0,x.jsx)(i.Z,{id:"demo-select-small-label",sx:{color:"dark"===C.palette.mode?"#FAF0E6 !important":"#352F44 !important"},children:g}),!0===b?(0,x.jsx)(u.Z,{error:!!O,labelId:"demo-multiple-checkbox-label",id:"demo-multiple-checkbox",required:j,fullWidth:!0,multiple:!0,value:w.value,onChange:e=>{if(j)if(w.value.length>0){const l={value:e.target.value,error:!1,success:!0};R(l),E(l),I("")}else{const l={value:e.target.value,error:!1,success:!0};R(l),E(l),I(v||"Select Atleast One")}else{const l={value:e.target.value,error:!1,success:!0};R(l),E(l),I("")}},onBlur:e=>{if(j)if(w.value.length>0){I("");const l={value:e.target.value,error:!1,success:!0};R(l),E(l)}else{const e={value:[],error:!0,success:!1};I(v||"Select atleast one"),R(e),E(e)}else{const e={value:[],error:!1,success:!0};I(""),R(e),E(e)}},input:(0,x.jsx)(h.Z,{label:g}),renderValue:e=>(0,x.jsx)(o.Z,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.map((e=>{var a;return(0,x.jsx)(s.Z,{label:null===l||void 0===l||null===(a=l.find((l=>l.id===e)))||void 0===a?void 0:a.label},e)}))},e),children:null===l||void 0===l?void 0:l.map((e=>(0,x.jsxs)(n.Z,{value:e.id,children:[(0,x.jsx)(p.Z,{checked:w.value.includes(e.id)}),(0,x.jsx)(m.Z,{primary:e.label})]},e.id)))}):(0,x.jsxs)(u.Z,{autoComplete:!0,error:!!O,labelId:"demo-simple-select-helper-label",value:a||k.value,label:g,onChange:e=>{const l={value:e.target.value,error:!1,success:!0};y(l),E(l),e.target.value&&I("")},onBlur:()=>{if(j)if(k.value){I("");const e={value:k.value,error:!1,success:!0};y(e),E(e)}else{const e={value:"",error:!0,success:!1};y(e),E(e),I(v||"Select One Option")}else{I("");const e={value:k.value,error:!1,success:!0};y(e),E(e)}},disabled:S,required:j,size:"small",sx:{"& .MuiFormLabel-root":{color:"dark"===C.palette.mode?"#FAF0E6 !important":"#352F44 !important"}},children:[(0,x.jsx)(n.Z,{value:"",children:(0,x.jsx)("em",{children:"-Select-"})}),l&&(null===l||void 0===l?void 0:l.map(((e,l)=>(0,x.jsx)(n.Z,{value:e.value,children:e.label},l))))]}),O&&(0,x.jsx)(c.Z,{sx:{marginLeft:"inherit"},error:!0,children:O})]})}},51973:(e,l,a)=>{a.d(l,{Z:()=>c});a(72791);var t=a(20890),r=a(50533),o=a(49418);const s=o.Z["FOOTER.WEBSITE.RIGHTS"],i=o.Z["FOOTER.WEBSITE.LABEL"];var n=a(80184);const c=e=>(0,n.jsxs)(t.Z,{mt:1,variant:"body2",color:"text.secondary",align:"center",...e,children:[s,(0,n.jsx)(r.Z,{className:"Url_link",color:"inherit",href:"http://www.textricks.com/",children:i})," ",(new Date).getFullYear(),"."]})},79748:(e,l,a)=>{a.d(l,{u:()=>i});a(72791);var t=a(697),r=a(19095),o=a(80184);const s={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",border:"none",boxShadow:5,p:1,borderRadius:"10px",width:"50%","@media (max-width: 991px)":{width:"90%"},scrollbars:{width:"2px"}},i=e=>{const{modal_width:l="50%",isOpen:a,handleClose:i=(()=>{})}=e;return(0,o.jsx)(r.Z,{open:a,onClose:i,"aria-labelledby":"parent-modal-title","aria-describedby":"parent-modal-description",children:(0,o.jsx)(t.Z,{sx:{...s,width:l},children:(0,o.jsx)("div",{children:e.children})})})}},52891:(e,l,a)=>{a.d(l,{Z:()=>x});a(72791);var t=a(70968),r=a(13967),o=a(697),s=a(20068),i=a(13400),n=a(38820),c=a(66934),d=a(12065),u=a(9955),h=a(10918),p=(a(73293),a(16856)),m=a(80184);const x=e=>{const{data:l,column:a,handleEditAction:x,handleDeleteAction:g,handleStatusAction:v,handlePlayPause:b,isEditable:j,isDeletable:S,isStatusChangable:Z,isPlayPause:E}=e,f=(0,r.Z)(),C=(0,h.TV)(f.palette.mode),k=(0,c.ZP)(u.Z)((e=>{let{theme:l}=e;return{"& .MuiSwitch-switchBase.Mui-checked":{color:C.switchColor[100],"&:hover":{backgroundColor:(0,d.Fq)(C.switchColor[100],l.palette.action.hoverOpacity)}},"& .MuiSwitch-switchBase.Mui-checked + .MuiSwitch-track":{backgroundColor:C.switchColor[100]}}}));return(0,m.jsx)(t.P2,{layoutMode:"grid",enableBottomToolbar:!1,displayColumnDefOptions:{"mrt-row-actions":{muiTableHeadCellProps:{align:"center"}}},initialState:{density:"compact",showGlobalFilter:!0},positionGlobalFilter:"left",muiSearchTextFieldProps:{placeholder:"Search...",sx:{minWidth:"50px"},variant:"standard"},enableEditing:!0,enableColumnFilters:!1,enableColumnActions:!1,enableFullScreenToggle:!1,enableStickyHeader:!0,enableGlobalFilterModes:!0,enableDensityToggle:!1,enableToolbarInternalActions:!1,enableFilterMatchHighlighting:!0,enableColumnFilterModes:!1,columns:a,data:l,enableColumnOrdering:!0,positionActionsColumn:"last",renderRowActions:e=>{let{row:l}=e;return(0,m.jsxs)(o.Z,{sx:{width:"100%",display:"flex",gap:"0.2rem",justifyContent:"center",alignItems:"center"},children:[Z&&(0,m.jsx)(s.Z,{arrow:!0,placement:"left",title:"Status",children:(0,m.jsx)(i.Z,{disableRipple:!0,disableFocusRipple:!0,disableTouchRipple:!0,size:"small",children:(0,m.jsx)(k,{checked:1===l.original.status,size:"small",onChange:()=>{return e=l.original,void v(e);var e}})})}),E&&(0,m.jsx)(s.Z,{arrow:!0,placement:"right",title:1===l.original.status?"Pause":"Play",children:(0,m.jsx)(i.Z,{onClick:()=>{return e=l.original,void b(e);var e},children:1===l.original.status?(0,m.jsx)(p.Vm3,{color:C.grey[200]}):(0,m.jsx)(p.udk,{color:C.grey[200]})})}),j&&(0,m.jsx)(s.Z,{arrow:!0,placement:"left",title:"Edit",children:(0,m.jsx)(i.Z,{onClick:()=>{return e=l.original,void x(e);var e},children:(0,m.jsx)(n.Z,{})})}),S&&(0,m.jsx)(s.Z,{arrow:!0,placement:"right",title:null===l.original.deleted_at?"Delete":"Restore",children:(0,m.jsx)(i.Z,{onClick:()=>{return e=l.original,void g(e);var e},children:null===l.original.deleted_at?(0,m.jsx)(p.FH3,{color:C.redAccent[500]}):(0,m.jsx)(p.iY8,{color:C.blue[100]})})})]})}})}},56425:(e,l,a)=>{a.r(l),a.d(l,{default:()=>z,rolefunctionslist:()=>G});var t=a(72791),r=a(80383),o=a(13967),s=a(697),i=a(20890),n=a(49877),c=a(20068),d=a(64370),u=a(41578),h=a(93543),p=a(94070),m=a(10918),x=a(39336),g=(a(763),a(57621)),v=a(9585),b=a(13400),j=a(39504),S=a(61889),Z=a(72363),E=a(94294),f=a(39124),C=a(43896);let k={display:"inlineFlex"},y={marginTop:"10px",display:"inlineBlock",lineHeight:"1.2",marginBottom:"2px",cursor:"pointer"},w={fontWeight:400,marginLeft:"15px",cursor:"pointer"};var R=a(80184);const O=e=>{const{starProps:l,Label:a,labelStyle:t,checkBoxStyle:r,mainContainerStyle:o,checked:s,handleChangeCheck:i=(()=>{}),disable:n,...c}=e,d=()=>{i(!s)};return(0,R.jsxs)("div",{style:Object.assign({},k),children:[(0,R.jsx)("input",{...c,style:Object.assign({},y),type:"checkbox",checked:!0===s,disabled:!!n,onChange:d}),(0,R.jsxs)("label",{onClick:!n&&d,style:Object.assign({},w),children:[" ",a," "]})]})};var I=a(16856),T=a(52638),L=a(12581);const A=e=>(0,L.o)({method:"GET",url:"/permission/permission-by-group/".concat(e)}),F=e=>(0,L.o)({method:"PUT",url:"/permission/role-permission",data:e});var P=a(73598);function N(e){const{children:l,value:a,index:t,...r}=e;return(0,R.jsx)("div",{role:"tabpanel",hidden:a!==t,id:"vertical-tabpanel-".concat(t),"aria-labelledby":"vertical-tab-".concat(t),...r,style:{width:"100%"},children:a===t&&(0,R.jsx)(s.Z,{sx:{p:1,width:"100%"},children:l})})}const M=e=>{const l=(0,o.Z)(),a=(0,m.TV)(l.palette.mode),{handleFormData:r,errorMessage:i,setMessage:n,actionType:c,initialValue:d={},onHandleClose:u,clickedBtn:h,user_slug:p}=e,[x,k]=(0,t.useState)(!1),[y,w]=(0,t.useState)([]),[F,M]=(0,t.useState)({value:d?d.id:[],error:!1,success:!1}),[B,_]=(0,t.useState)([]),[D,G]=(0,t.useState)([]),[H,W]=(0,t.useState)("User");(0,t.useEffect)((()=>{(0,L.o)({method:"GET",url:"/role"}).then((e=>{var l,a;const t=null===(l=e.data)||void 0===l||null===(a=l.data)||void 0===a?void 0:a.map((e=>({value:e.id,label:e.name})));w(t)})).catch((e=>{console.log(e)}))}),[]),(0,t.useEffect)((()=>{if(k(!0),"add"===c)A(p).then((e=>{var l,a,t,r;const o=null===e||void 0===e||null===(l=e.data)||void 0===l||null===(a=l.data)||void 0===a?void 0:a.groups;G(o);const s=(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.role_permissions).map((e=>({...e,checked:!1})));_(s),k(!1)})).catch((()=>{k(!1)}));else{const l=d.permission,a={checked:!0};for(let e=0;e<l.length;e++)l[e]=Object.assign(l[e],a);var e=[];l.map((l=>e.push(l.id))),A(p).then((l=>{var a,t,r,o,s;const i=null===l||void 0===l||null===(a=l.data)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.groups;G(i);const n=null===l||void 0===l||null===(r=l.data)||void 0===r||null===(o=r.data)||void 0===o||null===(s=o.role_permissions)||void 0===s?void 0:s.map((l=>({...l,checked:!!e.includes(l.id)})));_(n),k(!1)})).catch((e=>{k(!1)}))}}),[]);const z=e=>{const l=[];return e.forEach((e=>{!0===e.checked&&l.push(e.id)})),l};return(0,R.jsxs)(R.Fragment,{children:[x&&(0,R.jsx)(P.Z,{}),(0,R.jsx)(s.Z,{noValidate:!0,children:(0,R.jsxs)(g.Z,{sx:{boxShadow:"none",backgroundColor:a.form[500],color:a.form[100]},children:[(0,R.jsx)(v.Z,{action:(0,R.jsx)(b.Z,{"aria-label":"settings",onClick:u,children:(0,R.jsx)(I.FU5,{color:a.form[100]})}),title:"add"===h?"Add Role Function Map":"Update Role Function Map"}),i&&(0,R.jsx)("span",{className:"error_msg",children:i}),(0,R.jsx)(j.Z,{color:a.form[100],children:(0,R.jsxs)(s.Z,{className:"formResponsiveHeight",children:[(0,R.jsx)(S.ZP,{container:!0,children:(0,R.jsx)(S.ZP,{item:!0,xs:12,md:12,children:(0,R.jsx)(T.Z,{Value:F.value,onSelect:e=>{M(e)},placeholder:"Select Role ",label:"Select Role *",CustomErrorLine:"Select a role",multiSelect:!1,Required:!0,disable:!!d,Options:y})})}),(0,R.jsxs)(s.Z,{sx:{flexGrow:1,bgcolor:"background.paper",display:"flex",height:224,border:"0.5px solid ".concat(a.borderColor[100]),borderRadius:"5px",width:"100%"},children:[(0,R.jsx)(f.Z,{orientation:"vertical",variant:"scrollable",value:H,"aria-label":"Vertical tabs example",sx:{borderRight:1,borderColor:"divider",width:"30%"},children:D&&D.map((e=>{return(0,R.jsx)(C.Z,{style:{backgroundColor:e.permission_group===H?a.borderColor[100]:a.container[100]},onClick:()=>{return l=e.permission_group,void W(l);var l},label:e.permission_group,...(l=e.permission_group,{id:"vertical-tab-".concat(l),"aria-controls":"vertical-tabpanel-".concat(l)})});var l}))}),(0,R.jsx)("div",{style:{display:"flex",flexDirection:"column",overflowY:"scroll",width:"70%"},children:B&&B.map((e=>(0,R.jsx)(N,{value:H,index:e.permission_group,children:(0,R.jsx)(O,{Label:e.name,checked:e.checked,handleChangeCheck:()=>(e=>{const l=B.map((l=>l.id===e?{...l,checked:!l.checked}:{...l}));_(l)})(e.id)},e.id)})))})]})]})}),(0,R.jsxs)(Z.Z,{sx:{justifyContent:"space-between",m:1},children:[(0,R.jsx)(E.Z,{size:"small",variant:"contained",onClick:u,children:"Cancel"}),(0,R.jsx)(E.Z,{variant:"contained",type:"submit",size:"small",onClick:e=>(()=>{const e={role_id:F.value,permission:z(B).join(",")};r(e)})(),sx:{backgroundColor:a.greenAccent[500]},children:"add"===h?"Add":"Update"})]})]})})]})};var B=a(51973),_=a(52891),D=a(79748);const G=[{id:1,name:"Super Admin",permission:[1,2,3,4,5,6,7,8]},{id:2,name:"Manager",permission:[1,2,3,4,5,6,7,8]}],H=[{name:"Dashboard",path:"",icon:(0,R.jsx)(u.MXJ,{})},{name:"Role Function Map",icon:(0,R.jsx)(u.ysK,{})}],W=t.forwardRef((function(e,l){return(0,R.jsx)(p.Z,{elevation:6,ref:l,variant:"filled",...e})})),z=e=>{const l=(0,o.Z)(),a=(0,m.TV)(l.palette.mode),u=JSON.parse(localStorage.getItem("user")),p=u.user_data.roles[0].slug,[g,v]=(u.user_data.company_id,(0,t.useState)(!1)),[b,j]=(0,t.useState)("add"),[S,Z]=(0,t.useState)(),[E,f]=(0,t.useState)(0),[C,k]=(0,t.useState)(1),[y,w]=(0,t.useState)(10),[O,I]=(0,t.useState)([]),[T,A]=(0,t.useState)(!1),[N,G]=(0,t.useState)(""),[z,V]=(0,t.useState)(),[U,q]=(0,t.useState)({open:!1,vertical:"top",horizontal:"right"}),[J,Y]=(0,t.useState)(""),{vertical:X,horizontal:K,open:Q}=U,$=(e,l)=>{"clickaway"!==l&&q({...U,open:!1})},ee=(0,t.useMemo)((()=>[{accessorKey:"name",header:"Role",enableColumnOrdering:!1},{accessorFn:e=>{var l;return(null===(l=e.permission)||void 0===l?void 0:l.map((e=>e.name)).join(", ").slice(0,50))+"..."},id:"permission",header:"Functions",enableColumnOrdering:!1}]),[]),le=()=>{V(""),v(!1)},ae=()=>{(e=>(0,L.o)({method:"GET",url:"/permission/all/".concat(e)}))(p).then((e=>{var l,a,t;console.log(e.data);const r=null===(l=e.data)||void 0===l||null===(a=l.data)||void 0===a||null===(t=a.role_permissions)||void 0===t?void 0:t.map((e=>({id:e.role_id,name:e.role,permission:e.permissions})));I(r)})).catch((e=>{console.log(e)}))};(0,t.useEffect)((()=>{ae()}),[]);const te=e=>{A(!0),F(e).then((e=>{ae(),A(!1),V(""),Y("success"),G(e.data.message),q({...U,open:!0}),v(!1)})).catch((e=>{A(!1),V(e.message)}))},re=e=>{A(!0),F(e).then((e=>{ae(),A(!1),V(""),Y("success"),G("Updated successfully"),q({...U,open:!0}),v(!1)})).catch((e=>{A(!1),V(e.message)}))};return(0,R.jsxs)(R.Fragment,{children:[T&&(0,R.jsx)(P.Z,{}),(0,R.jsx)(h.Z,{open:Q,anchorOrigin:{vertical:X,horizontal:K},autoHideDuration:3e3,onClose:$,children:(0,R.jsx)(W,{onClose:$,severity:J,sx:{width:"100%"},children:N})}),(0,R.jsxs)(s.Z,{sx:{"& .rs-pagination-group":{color:a.layoutColor[200]},"& .MuiTypography-root":{color:a.layoutColor[200]},mt:1,ml:2,mr:2,mb:2,height:"80%",backgroundColor:"inherit"},children:[(0,R.jsx)(x.Z,{pathList:H}),(0,R.jsxs)(s.Z,{children:[T&&(0,R.jsx)("h2",{children:"Loader"}),(0,R.jsx)(D.u,{modal_width:"30%",isOpen:g,children:(0,R.jsx)(M,{handleFormData:"add"===b?te:re,onHandleClose:le,clickedBtn:b,initialValue:"edit"===b?S:"",actionType:b,errorMessage:z,setErrorMessage:V,user_slug:p})}),(0,R.jsxs)(s.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,R.jsx)("div",{children:(0,R.jsx)(i.Z,{variant:"h5",children:"Role Function Mapping"})}),(0,R.jsx)("div",{style:{zIndex:1},children:(0,R.jsx)(n.Z,{"aria-label":"add",size:"small",sx:{boxShadow:"none",backgroundColor:a.greenAccent[500]},onClick:()=>{V(""),v(!0),j("add")},children:(0,R.jsx)(c.Z,{title:"Add",children:(0,R.jsx)(d.Z,{})})})})]}),(0,R.jsxs)(s.Z,{children:[(0,R.jsx)(_.Z,{data:O,column:ee,handleEditAction:e=>{Z(e),v(!0),j("edit")},isSearchable:!0,isEditable:!0,isDeletable:!1,isStatusChangable:!1}),(0,R.jsx)(r.Z,{style:{marginTop:5},layout:["total","-","pager","skip"],size:"xs",prev:!0,next:!0,first:!0,last:!0,ellipsis:!0,boundaryLinks:!0,total:E,limit:y,maxButtons:5,activePage:C,onChangePage:k,limitOptions:[5,10,25,50,100],onChangeLimit:w})]})]})]}),(0,R.jsx)(B.Z,{})]})}},49418:(e,l,a)=>{a.d(l,{Z:()=>i});const t=JSON.parse('{"SIGNIN.HEADER.LABEL":"Sign In","SIGNIN.EMAIL.LABEL":"Email","SIGNIN.EMAIL.PLACEHOLDER":"Enter Email","SIGNIN.EMAIL.ERROR":"Please enter a valid email","SIGNIN.PASSWORD.LABEL":"Password","SIGNIN.PASSWORD.PLACEHOLDER":"Enter Password","SIGNIN.PASSWORD.ERROR":"Please enter a valid password","SIGNIN.SUBMIT.LABEL":"Login","SIGNUP.FORGOT.HYPERTEXT":"Forgot Password?","FORGET.HYPERTEXT":"Don\'t have an account? Register Now","WEBSITE.LABEL":"Textricks","LOGIN.EMAIL.ERROR":"Email","LOGIN.PASSWORD.EROR":"Password","TEXTFIELD.ERR_BLANK":"Required","HEADER.TITLE":"Hello world","FOOTER.WEBSITE.RIGHTS":"All Rights Reserved By ","FOOTER.WEBSITE.LABEL":"Textricks."}');var r=a(6083);let o,s=JSON.parse(localStorage.getItem("lang"))?JSON.parse(localStorage.getItem("lang")):"en";o||(o=new r.Z({en:t})),o.setLanguage(s);const i=o},73293:()=>{}}]);
//# sourceMappingURL=425.b38f9510.chunk.js.map