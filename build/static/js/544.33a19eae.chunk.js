"use strict";(self.webpackChunkforward_portal=self.webpackChunkforward_portal||[]).push([[544],{92440:(e,t,a)=>{a.d(t,{Z:()=>r});a(72791);var n=a(13967),i=a(9955),l=a(36314),o=a(68096),s=a(80184);function r(e){const t=(0,n.Z)(),{isChecked:a,handleSwitch:r,style:d}=e;return(0,s.jsx)(o.Z,{fullWidth:!0,size:"small",sx:{alignItems:"center"},style:{...d},children:(0,s.jsx)(l.Z,{direction:"row",spacing:1,alignItems:"center",children:(0,s.jsx)(i.Z,{inputProps:{"aria-label":"Switch"},checked:a?1:0,onChange:e=>{r(e.target.checked)},sx:{"&::before":{backgroundImage:'url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="16" width="16" viewBox="0 0 24 24"><path fill="'.concat(encodeURIComponent(t.palette.getContrastText(t.palette.primary.main)),'" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"/></svg>\')'),left:12},"&::after":{backgroundImage:'url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="16" width="16" viewBox="0 0 24 24"><path fill="'.concat(encodeURIComponent(t.palette.getContrastText(t.palette.primary.main)),'" d="M19,13H5V11H19V13Z" /></svg>\')'),right:12},"& .MuiSwitch-switchBase":{"&.Mui-checked":{color:"#fff","& + .MuiSwitch-track":{opacity:1,backgroundColor:"dark"===t.palette.mode?"#177ddc":"#1890ff"}}}}})})})}},6243:(e,t,a)=>{a.d(t,{Z:()=>c});var n=a(72791),i=a(48550),l=a(49644),o=a(13967),s=a(68096),r=a(47071),d=a(80184);function c(e){const{label:t,Options:a,Value:c,CustomErrorLine:u,Required:m,disable:p,onSelect:g}=e,[v,h]=((0,o.Z)(),(0,n.useState)({value:"",error:!1,success:!1})),[x,b]=(0,n.useState)("");return(0,d.jsxs)(s.Z,{fullWidth:!0,size:"small",margin:"normal",children:[(0,d.jsx)(l.Z,{value:c||v.value,onSelect:e=>{const t={value:e.target.value,error:!1,success:!0};h(t),g(t),e.target.value&&b("")},onBlur:()=>{if(m)if(v.value){b("");const e={value:v.value,error:!1,success:!0};h(e),g(e)}else{const e={value:"",error:!0,success:!1};h(e),g(e),b(u||"Select One Option")}else{b("");const e={value:v.value,error:!1,success:!0};h(e),g(e)}},size:"small",freeSolo:!0,id:"free-solo-2-demo",placeholder:"Select one",disableClearable:!0,options:null===a||void 0===a?void 0:a.map((e=>e.label)),renderInput:e=>(0,d.jsx)(i.Z,{...e,label:t,InputProps:{...e.InputProps,type:"search"}})}),x&&(0,d.jsx)(r.Z,{sx:{marginLeft:"inherit"},error:!0,children:x})]})}},89462:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Ie});var n=a(72791),i=a(13967),l=a(697),o=a(20890),s=a(49877),r=a(20068),d=a(41578),c=a(93543),u=a(94070),m=a(80383),p=a(64370),g=a(39336),v=a(38639),h=a(10918),x=a(79748),b=a(57621),C=a(9585),f=a(13400),Z=a(39504),j=a(61889),y=a(30829),S=a(72363),P=a(94294),w=a(16856),I=a(63524),T=a(39203),k=a(52638),O=a(92440),F=a(15806),R=a(94721),_=a(57064),A=a(90493),E=a(63366),L=a(87462),V=a(63733),M=a(94419),N=a(20627),G=a(12065),B=a(66934),z=a(31402),D=a(23701),H=a(19103),q=a(40162),K=a(42071),U=a(66199),Y=a(75878),$=a(21217);function J(e){return(0,$.Z)("MuiListItem",e)}const W=(0,Y.Z)("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);const X=(0,Y.Z)("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function Q(e){return(0,$.Z)("MuiListItemSecondaryAction",e)}(0,Y.Z)("MuiListItemSecondaryAction",["root","disableGutters"]);var ee=a(80184);const te=["className"],ae=(0,B.ZP)("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.disableGutters&&t.disableGutters]}})((e=>{let{ownerState:t}=e;return(0,L.Z)({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})})),ne=n.forwardRef((function(e,t){const a=(0,z.Z)({props:e,name:"MuiListItemSecondaryAction"}),{className:i}=a,l=(0,E.Z)(a,te),o=n.useContext(U.Z),s=(0,L.Z)({},a,{disableGutters:o.disableGutters}),r=(e=>{const{disableGutters:t,classes:a}=e,n={root:["root",t&&"disableGutters"]};return(0,M.Z)(n,Q,a)})(s);return(0,ee.jsx)(ae,(0,L.Z)({className:(0,V.Z)(r.root,i),ownerState:s,ref:t},l))}));ne.muiName="ListItemSecondaryAction";const ie=ne,le=["className"],oe=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],se=(0,B.ZP)("div",{name:"MuiListItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.dense&&t.dense,"flex-start"===a.alignItems&&t.alignItemsFlexStart,a.divider&&t.divider,!a.disableGutters&&t.gutters,!a.disablePadding&&t.padding,a.button&&t.button,a.hasSecondaryAction&&t.secondaryAction]}})((e=>{let{theme:t,ownerState:a}=e;return(0,L.Z)({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!a.disablePadding&&(0,L.Z)({paddingTop:8,paddingBottom:8},a.dense&&{paddingTop:4,paddingBottom:4},!a.disableGutters&&{paddingLeft:16,paddingRight:16},!!a.secondaryAction&&{paddingRight:48}),!!a.secondaryAction&&{["& > .".concat(X.root)]:{paddingRight:48}},{["&.".concat(W.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(W.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,G.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(W.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,G.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(W.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity}},"flex-start"===a.alignItems&&{alignItems:"flex-start"},a.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},a.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(W.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,G.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,G.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity)}}},a.hasSecondaryAction&&{paddingRight:48})})),re=(0,B.ZP)("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),de=n.forwardRef((function(e,t){const a=(0,z.Z)({props:e,name:"MuiListItem"}),{alignItems:i="center",autoFocus:l=!1,button:o=!1,children:s,className:r,component:d,components:c={},componentsProps:u={},ContainerComponent:m="li",ContainerProps:{className:p}={},dense:g=!1,disabled:v=!1,disableGutters:h=!1,disablePadding:x=!1,divider:b=!1,focusVisibleClassName:C,secondaryAction:f,selected:Z=!1,slotProps:j={},slots:y={}}=a,S=(0,E.Z)(a.ContainerProps,le),P=(0,E.Z)(a,oe),w=n.useContext(U.Z),I=n.useMemo((()=>({dense:g||w.dense||!1,alignItems:i,disableGutters:h})),[i,w.dense,g,h]),T=n.useRef(null);(0,q.Z)((()=>{l&&T.current&&T.current.focus()}),[l]);const k=n.Children.toArray(s),O=k.length&&(0,H.Z)(k[k.length-1],["ListItemSecondaryAction"]),F=(0,L.Z)({},a,{alignItems:i,autoFocus:l,button:o,dense:I.dense,disabled:v,disableGutters:h,disablePadding:x,divider:b,hasSecondaryAction:O,selected:Z}),R=(e=>{const{alignItems:t,button:a,classes:n,dense:i,disabled:l,disableGutters:o,disablePadding:s,divider:r,hasSecondaryAction:d,selected:c}=e,u={root:["root",i&&"dense",!o&&"gutters",!s&&"padding",r&&"divider",l&&"disabled",a&&"button","flex-start"===t&&"alignItemsFlexStart",d&&"secondaryAction",c&&"selected"],container:["container"]};return(0,M.Z)(u,J,n)})(F),_=(0,K.Z)(T,t),A=y.root||c.Root||se,G=j.root||u.root||{},B=(0,L.Z)({className:(0,V.Z)(R.root,G.className,r),disabled:v},P);let Y=d||"li";return o&&(B.component=d||"div",B.focusVisibleClassName=(0,V.Z)(W.focusVisible,C),Y=D.Z),O?(Y=B.component||d?Y:"div","li"===m&&("li"===Y?Y="div":"li"===B.component&&(B.component="div")),(0,ee.jsx)(U.Z.Provider,{value:I,children:(0,ee.jsxs)(re,(0,L.Z)({as:m,className:(0,V.Z)(R.container,p),ref:_,ownerState:F},S,{children:[(0,ee.jsx)(A,(0,L.Z)({},G,!(0,N.X)(A)&&{as:Y,ownerState:(0,L.Z)({},F,G.ownerState)},B,{children:k})),k.pop()]}))})):(0,ee.jsx)(U.Z.Provider,{value:I,children:(0,ee.jsxs)(A,(0,L.Z)({},G,{as:Y,ref:_},!(0,N.X)(A)&&{ownerState:(0,L.Z)({},F,G.ownerState)},B,{children:[k,f&&(0,ee.jsx)(ie,{children:f})]}))})}));var ce=a(49900),ue=a(94454);function me(e){let{targetList:t,setTargetList:a,campaignTarget:l,setCampaignTarget:o}=e;const s=(0,i.Z)(),r=(0,h.TV)(s.palette.mode),[d,c]=(0,n.useState)([]),u=d.filter((e=>-1!==t.map((e=>e.name)).indexOf(e))),m=d.filter((e=>-1!==l.map((e=>e.name)).indexOf(e))),p=e=>null===e||void 0===e?void 0:e.filter((e=>-1!==d.indexOf(e.name))).length,g=e=>()=>{p(e)===e.length?c(d.filter((t=>-1===e.map((e=>e.name)).indexOf(t)))):c([...d,...e.map((e=>e.name))])},v=(e,t)=>(0,ee.jsxs)(b.Z,{sx:{border:"dark"===s.palette.mode?"1px solid ".concat(r.grey[600]):"1px solid ".concat(r.grey[800])},children:[(0,ee.jsx)(C.Z,{sx:{px:2,py:1},avatar:(0,ee.jsx)(ue.Z,{onClick:g(t),checked:p(t)===(null===t||void 0===t?void 0:t.length)&&0!==t.length,indeterminate:p(t)!==(null===t||void 0===t?void 0:t.length)&&0!==p(t),disabled:0===(null===t||void 0===t?void 0:t.length),inputProps:{"aria-label":"all items selected"}}),title:e,subheader:"".concat(p(t),"/").concat(t.length," selected")}),(0,ee.jsx)(R.Z,{}),(0,ee.jsx)(Z.Z,{children:(0,ee.jsx)(A.Z,{dense:!0,sx:{height:230,overflowY:"scroll","li:nth-child(2n+1)":{backgroundColor:r.grey[900]}},component:"div",role:"list",children:t.map((e=>{return(0,ee.jsxs)(de,{onClick:(t=null===e||void 0===e?void 0:e.name,()=>{const e=d.indexOf(t),a=[...d];-1===e?a.push(t):a.splice(e,1),c(a)}),children:[(0,ee.jsx)(_.Z,{children:(0,ee.jsx)(ue.Z,{checked:-1!==d.indexOf(null===e||void 0===e?void 0:e.name)})}),(0,ee.jsx)(ce.Z,{id:null===e||void 0===e?void 0:e.name,primary:null===e||void 0===e?void 0:e.name})]},null===e||void 0===e?void 0:e.name);var t}))})})]});return(0,ee.jsxs)(ee.Fragment,{children:[(0,ee.jsx)(j.ZP,{md:5,xs:12,item:!0,children:v("Targets",t)}),(0,ee.jsx)(j.ZP,{md:2,xs:12,item:!0,children:(0,ee.jsxs)(j.ZP,{container:!0,direction:"column",alignItems:"center",children:[(0,ee.jsx)(P.Z,{sx:{my:.5},variant:"outlined",size:"small",onClick:()=>{o([...l,...u.map((e=>t.find((t=>t.name===e))))]),a(t.filter((e=>!u.includes(e.name)))),c(d.filter((e=>-1===u.indexOf(e))))},disabled:0===u.length,"aria-label":"move selected right",children:">"}),(0,ee.jsx)(P.Z,{sx:{my:.5},variant:"outlined",size:"small",onClick:()=>{a([...t,...m.map((e=>l.find((t=>t.name===e))))]),o(l.filter((e=>!m.includes(e.name)))),c(d.filter((e=>-1===m.indexOf(e))))},disabled:0===m.length,"aria-label":"move selected left",children:"<"})]})}),(0,ee.jsx)(j.ZP,{md:5,xs:12,item:!0,children:v("Campaign Targets",l)})]})}var pe=a(70968);a(73293);const ge=e=>{const{targetColumn:t,data:a}=e,[i,l]=(0,n.useState)([]);(0,n.useEffect)((()=>{l(a)}),[a]);return(0,ee.jsx)(ee.Fragment,{children:(0,ee.jsx)(pe.P2,{enableBottomToolbar:!0,displayColumnDefOptions:{"mrt-row-actions":{muiTableHeadCellProps:{align:"center"}}},initialState:{density:"compact",showGlobalFilter:!0},positionGlobalFilter:"left",muiSearchTextFieldProps:{placeholder:"Search...",sx:{minWidth:"50px"},variant:"standard"},enableEditing:!0,enableColumnFilters:!1,enableColumnActions:!1,enableFullScreenToggle:!1,enableStickyHeader:!0,enableGlobalFilterModes:!0,enableDensityToggle:!1,enableToolbarInternalActions:!1,enableFilterMatchHighlighting:!0,enableColumnFilterModes:!1,columns:t,data:i,editingMode:"row",enableRowActions:!0,enableTopToolbar:!0,enableSorting:!1,enableColumnOrdering:!1,muiEditTextFieldProps:{variant:"outlined"},positionActionsColumn:"last",onEditingRowSave:e=>{let{exitEditingMode:t,row:a,values:n}=e;const o=a.original;for(const i in n)o.hasOwnProperty(i)&&(o[i]=n[i]);i[a.index]=o,l([...i]),t()}})})};var ve=a(73598),he=a(63911),xe=a(47786),be=a(6243);const Ce=e=>{var t;const{initialValue:a={},handleFormData:l,onHandleClose:s,clickedBtn:r,errorMessage:d,setErrorMessage:u,targetColumn:m,company_id:p}=e,g=(0,i.Z)(),v=(0,h.TV)(g.palette.mode),[x,R]=(0,n.useState)([]),[_,A]=(0,n.useState)({value:a?a.company_id:"",error:!1,success:!1}),[E,L]=(0,n.useState)(!1),[V,M]=(0,n.useState)({value:a?a.randomId:""}),[N,G]=(0,n.useState)({value:a?a.name:"",error:!1,success:!1}),[B,z]=(0,n.useState)({value:a?a.description:"",error:!1,success:!1}),[D,H]=(0,n.useState)({value:a?a.timeout:"",error:!1,success:!1}),[q,K]=(0,n.useState)([]),[U,Y]=(0,n.useState)({value:a?a.number:"",error:!1,success:!1}),[$,J]=(0,n.useState)({value:a?null===a||void 0===a||null===(t=a.ivr)||void 0===t?void 0:t.id:"",error:!1,success:!1}),[W,X]=(0,n.useState)({value:1,error:!1,success:!1}),[Q,te]=(0,n.useState)({value:"",error:!1,success:!1}),[ae,ne]=(0,n.useState)("edit"===r&&a.isRecording),[ie,le]=(0,n.useState)([]),[oe,se]=(0,n.useState)([]),[re,de]=(0,n.useState)(!1),[ce,ue]=(0,n.useState)([]),[pe,Ce]=(0,n.useState)(0);(0,n.useEffect)((()=>{L(!0),(0,F.kN)().then((e=>{var t,a;L(!1);const n=null===e||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.map((e=>({value:e.id,label:e.did_number})));K(void 0===n?[]:n)})).catch((e=>{L(!1)}))}),[]),(0,n.useEffect)((()=>{(0,he.rn)().then((e=>{var t,a,n;const i=null===(t=e.data)||void 0===t||null===(a=t.data)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.map((e=>({value:e.id,label:e.company_name})));R(i)})).catch((e=>{console.log(e)}))}),[]),(0,n.useEffect)((()=>{"edit"===r&&(0,F.$B)().then((e=>{var t,n,i;const l=null===e||void 0===e||null===(t=e.data)||void 0===t||null===(n=t.data)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.map((e=>({id:parseInt(e.id),name:e.name}))),o=null===l||void 0===l?void 0:l.map((e=>{const t=null===a||void 0===a?void 0:a.targets.find((t=>t.id==e.id));return{id:e.id,name:e.name,weightage:t?t.weightage:null,priority:t?t.priorities:null}})),s=null===a||void 0===a?void 0:a.targets.map((e=>parseInt(e.id))),r=o.filter((e=>s.includes(e.id)));if(0===ce.length&&0===pe){ue(null===a||void 0===a?void 0:a.targets);const e=o.filter((e=>!s.includes(e.id)));Ce(1),se(void 0===r?[]:r),le(void 0===e?[]:e)}else{if((0,xe.Rt)(ce,null===a||void 0===a?void 0:a.targets)){const e=o.filter((e=>!s.includes(e.id)));se(void 0===r?[]:r),le(void 0===e?[]:e)}}})).catch((e=>{console.log(e)}))}),[a]),(0,n.useEffect)((()=>{"add"===r&&(0,F.$B)().then((e=>{var t,a,n;const i=null===e||void 0===e||null===(t=e.data)||void 0===t||null===(a=t.data)||void 0===a||null===(n=a.data)||void 0===n?void 0:n.map((e=>({id:e.id,name:e.name,weightage:e.weightage,priorities:e.priority,status:e.status})));le(void 0===i?[]:i)})).catch((e=>{console.log(e)}))}),[]);return(0,ee.jsxs)(ee.Fragment,{children:[E&&(0,ee.jsx)(ve.Z,{}),(0,ee.jsxs)(b.Z,{component:"form",sx:{boxShadow:"none",backgroundColor:v.form[500],color:v.form[100]},children:[(0,ee.jsx)(C.Z,{action:(0,ee.jsx)(f.Z,{"aria-label":"settings",onClick:s,children:(0,ee.jsx)(w.FU5,{color:v.form[100]})}),title:"add"===r?"Add Campaign":"Update Campaign"}),d&&(0,ee.jsx)("span",{className:"error_msg",children:d}),(0,ee.jsxs)(Z.Z,{color:v.form[100],className:"contentResponsiveHeight",children:["edit"===r&&(0,ee.jsxs)(j.ZP,{container:!0,children:[(0,ee.jsx)(j.ZP,{item:!0,xs:4,md:2,children:(0,ee.jsx)(o.Z,{gutterBottom:!0,variant:"body1",component:"div",children:"Random ID"})}),(0,ee.jsx)(j.ZP,{item:!0,xs:8,md:4,children:(0,ee.jsx)(j.ZP,{container:!0,alignItems:"center",children:(0,ee.jsx)(j.ZP,{item:!0,children:(0,ee.jsxs)(o.Z,{gutterBottom:!0,variant:"subtitle2",component:"div",children:[V.value,(0,ee.jsx)(f.Z,{size:"small",onClick:()=>{de(!0),navigator.clipboard.writeText(V.value)},children:(0,ee.jsx)(I.OhO,{})}),(0,ee.jsx)(c.Z,{message:"Copied to clibboard",anchorOrigin:{vertical:"top",horizontal:"center"},autoHideDuration:2e3,onClose:()=>de(!1),open:re})]})})})}),(0,ee.jsx)(j.ZP,{item:!0,xs:0,md:6})]}),(0,ee.jsxs)(j.ZP,{container:!0,spacing:1,children:["0"===p&&(0,ee.jsx)(j.ZP,{item:!0,xs:12,md:6,children:(0,ee.jsx)(k.Z,{Value:_.value,onSelect:e=>{u(""),A(e)},label:"Company *",CustomErrorLine:"Choose one",Required:!0,Options:x})}),(0,ee.jsx)(j.ZP,{item:!0,xs:12,md:6,children:(0,ee.jsx)(T.Z,{type:"alpha",placeholder:"Enter Campaign Name",label:"Name",Value:N.value,onChangeText:e=>{u(""),G(e)},Required:!0,CustomErrorLine:"Enter proper name"})}),(0,ee.jsx)(j.ZP,{item:!0,xs:12,md:6,children:(0,ee.jsx)(T.Z,{type:"textarea",placeholder:"Enter Description",label:"Description",Value:B.value,onChangeText:e=>{u(""),z(e)},Required:!1,CustomErrorLine:"Enter proper description"})}),(0,ee.jsx)(j.ZP,{item:!0,xs:12,md:6,children:(0,ee.jsx)(T.Z,{type:"num",placeholder:"Enter connection time out",label:"Connection timeout",Value:D.value,onChangeText:e=>{u(""),H(e)},Required:!1,CustomErrorLine:"Enter proper description"})}),(0,ee.jsx)(j.ZP,{item:!0,xs:12,md:6,children:(0,ee.jsx)(k.Z,{Value:Q.value,onSelect:e=>{te(e)},placeholder:"Select one",label:"Number Format *",CustomErrorLine:"Choose one",multiSelect:!1,Required:!0,disable:!1,Options:[{id:1,label:"(###) #### ### ###",value:1},{id:2,label:"(##) ### ### ####",value:2}]})}),(0,ee.jsx)(j.ZP,{item:!0,xs:12,md:6,children:(0,ee.jsx)(be.Z,{Value:U.value,Options:q,onSelect:e=>{u(""),Y(e)},label:"TFN Number *",CustomErrorLine:"Choose one",Required:!1,disable:!1})}),(0,ee.jsx)(j.ZP,{item:!0,xs:12,md:6,children:(0,ee.jsx)(k.Z,{Value:W.value,onSelect:e=>{X(e)},placeholder:"Select one",label:"Send duplicate calls to *",CustomErrorLine:"Choose one",multiSelect:!1,Required:!0,disable:!1,Options:[{id:1,label:"Send target",value:1},{id:2,label:"Different target",value:2},{id:3,label:"Random",value:3}]})}),(0,ee.jsx)(j.ZP,{item:!0,xs:12,md:6,children:(0,ee.jsx)(k.Z,{Value:$.value,onSelect:e=>{u(""),J(e)},placeholder:"Select one",label:"IVR Name",CustomErrorLine:"Choose one",multiSelect:!1,Required:!1,disable:!1,Options:[{label:"IVR 1",value:"IVR 1"},{label:"IVR 2",value:"IVR 2"}]})}),(0,ee.jsx)(j.ZP,{item:!0,xs:6,md:3,children:(0,ee.jsx)(y.Z,{id:"demo-select-small-label",sx:{color:v.btn[100],marginTop:3},children:"Call recording"})}),(0,ee.jsx)(j.ZP,{item:!0,xs:6,md:3,children:(0,ee.jsx)(O.Z,{isChecked:ae,handleSwitch:e=>{u(""),ne(e)},style:{marginTop:"20px"}})}),"edit"===r&&(0,ee.jsx)(me,{targetList:ie,setTargetList:le,campaignTarget:oe,setCampaignTarget:se}),"edit"===r&&(0,ee.jsx)(j.ZP,{item:!0,xs:12,md:12,sx:{mt:2},children:(0,ee.jsx)(ge,{targetColumn:m,data:oe})})]})]}),(0,ee.jsxs)(S.Z,{sx:{justifyContent:"space-between",mr:2,ml:1},children:[(0,ee.jsx)(P.Z,{size:"small",variant:"contained",onClick:s,children:"Cancel"}),(0,ee.jsx)(P.Z,{type:"submit",size:"small",onClick:e=>(e=>{e.preventDefault();const t=null===oe||void 0===oe?void 0:oe.map((e=>({target_id:e.id,weightage:e.weightage,priority:e.priority,did_number_id:U.value,company_id:"0"===p?parseInt(_.value):parseInt(p)}))),a=null===oe||void 0===oe?void 0:oe.map((e=>e.id)),n=null===q||void 0===q?void 0:q.find((e=>e.label==U.value)),i={name:N.value,description:B.value,did_number_id:null===n||void 0===n?void 0:n.value,target_id:a,connection_timeout:D.value,sameDiff_buyer:W.value,ivr_id:$.value?parseInt($.value):null,recording:!0===ae?1:0,company_id:"0"===p?parseInt(_.value):parseInt(p),campaignMemberData:t};l(i)})(e),sx:{backgroundColor:v.greenAccent[500]},variant:"contained",children:"add"===r?"Save":"Update"})]})]})]})},fe=e=>{let{value:t}=e;return(0,ee.jsx)(l.Z,{sx:{width:100},children:1===t?"Yes":"No"})};var Ze=a(52891),je=a(51973),ye=a(24231),Se=a(57689);const Pe=[{name:"Dashboard",path:"",icon:(0,ee.jsx)(d.MXJ,{})},{name:"Campaign",icon:(0,ee.jsx)(d._Yb,{})}],we=n.forwardRef((function(e,t){return(0,ee.jsx)(u.Z,{elevation:6,ref:t,variant:"filled",...e})})),Ie=()=>{const e=(0,i.Z)(),t=(0,Se.s0)(),a=JSON.parse(localStorage.getItem("user")).user_data.company_id,[d,u]=(0,n.useState)([]),[b,C]=(0,n.useState)(!1),[f,Z]=(0,n.useState)(null),[j,y]=(0,n.useState)(!1),[S,P]=(0,n.useState)(""),[w,I]=(0,n.useState)(),[T,k]=(0,n.useState)(),[O,R]=(0,n.useState)(""),[_,A]=(0,n.useState)(0),[E,L]=(0,n.useState)(1),[V,M]=(0,n.useState)(10),[N,G]=(0,n.useState)({open:!1,vertical:"top",horizontal:"right"}),[B,z]=(0,n.useState)(""),[D,H]=(0,n.useState)(0),{vertical:q,horizontal:K,open:U}=N,Y=(0,h.TV)(e.palette.mode),$=(0,n.useMemo)((()=>[{accessorKey:"name",header:"Name",size:100,enableColumnDragging:!1,enableGlobalFilter:!0,enableColumnFilter:!1,enableColumnActions:!1,muiTableHeadCellProps:{align:"left"},muiTableBodyCellProps:{align:"left"}},{accessorKey:"description",header:"Description",enableColumnDragging:!1,enableGlobalFilter:!0,enableColumnFilter:!1,enableColumnActions:!1,size:100,muiTableHeadCellProps:{align:"left"},muiTableBodyCellProps:{align:"left"}},{accessorKey:"recording",header:"Recording",enableColumnDragging:!1,enableGlobalFilter:!1,enableColumnFilter:!1,enableColumnActions:!1,size:50,Cell:e=>{let{cell:t}=e;return(0,ee.jsx)(fe,{value:t.getValue()})},muiTableBodyCellProps:{align:"left"},muiTableHeadCellProps:{align:"left"}},{accessorKey:"status",header:"Status",size:100,enableColumnDragging:!1,enableGlobalFilter:!1,enableColumnFilter:!1,enableColumnActions:!1,Cell:e=>{let{cell:t}=e;return(0,ee.jsx)(v.Z,{value:t.getValue()})},muiTableHeadCellProps:{align:"left"},muiTableBodyCellProps:{align:"left"}}]),[]),J=(0,n.useMemo)((()=>[{accessorKey:"name",header:"Name",enableEditing:!1,enableColumnFilter:!1,enableColumnActions:!1},{accessorKey:"weightage",size:50,enableColumnFilter:!1,enableColumnActions:!1,editSelectOptions:[{text:1,value:1},{text:2,value:2},{text:3,value:3},{text:4,value:4},{text:5,value:5},{text:6,value:6},{text:7,value:7},{text:8,value:8},{text:9,value:9},{text:10,value:10}],editVariant:"select",header:"Weightage",muiTableBodyCellProps:{align:"center"},muiTableHeadCellProps:{align:"center"}},{accessorKey:"priority",size:50,enableColumnFilter:!1,enableColumnActions:!1,editSelectOptions:[{text:1,value:1},{text:2,value:2},{text:3,value:3},{text:4,value:4},{text:5,value:5},{text:6,value:6},{text:7,value:7},{text:8,value:8},{text:9,value:9},{text:10,value:10}],editVariant:"select",header:"Priorities",muiTableBodyCellProps:{align:"center"},muiTableHeadCellProps:{align:"center"}}]),[]),W=(e,t)=>{"clickaway"!==t&&G({...N,open:!1})},X=()=>{Z(null),y(!1)},Q=(e,t)=>{C(!0),(0,F.j9)(e,t).then((e=>{var t;let a=0===e.data.data.length?[]:e.data.data.data;u(a),A(0===e.data.data.length?0:null===(t=e.data.data)||void 0===t?void 0:t.total),C(!1)})).catch((()=>{C(!1)}))};(0,n.useEffect)((()=>{Q(E,V)}),[E,V]);(0,n.useEffect)((()=>{null!==f&&null!==f&&(C(!0),(0,F.Z4)(f).then((e=>{C(!1);const t={id:e.data.data[0].id,randomId:e.data.data[0].campaign_random_id,name:e.data.data[0].name,description:e.data.data[0].description,campaign_rate:e.data.data[0].campaign_rate,timeout:e.data.data[0].connection_timeout,isRecording:0!==e.data.data[0].recording,status:e.data.data[0].status,ivr:{id:e.data.data[0].dail_ivr_options,name:e.data.data[0].dail_ivr_options},targets:e.data.data[0].campaign_members&&e.data.data[0].campaign_members.map((e=>({id:parseInt(e.target_id),name:e.target_name,weightage:e.weightage,priorities:e.priority}))),number:e.data.data[0].did_number_id};I(t),y(!0)})).catch((e=>{C(!1),console.log(e)})))}),[D]),(0,n.useEffect)((()=>{const e=setInterval((()=>H(D+1)),1e4);return()=>clearInterval(e)}),[D]);const te=e=>{C(!0),(0,F.$8)(e).then((e=>{Q(E,V),C(!1),z("success"),R(e.data.message),G({...N,open:!0}),y(!1)})).catch((e=>{C(!1),k(e.message)}))},ae=e=>{C(!0);const t={id:w.id,data:e};(0,F.Uy)(t).then((e=>{Q(E,V),C(!1),z("success"),R(e.data.message),G({...N,open:!0}),Z(null),y(!1)})).catch((e=>{C(!1),k(e.message)}))};return(0,ee.jsxs)(ee.Fragment,{children:[b&&(0,ee.jsx)(ve.Z,{}),(0,ee.jsx)(c.Z,{open:U,anchorOrigin:{vertical:q,horizontal:K},autoHideDuration:3e3,onClose:W,children:(0,ee.jsx)(we,{onClose:W,severity:B,sx:{width:"100%"},children:O})}),(0,ee.jsxs)(l.Z,{sx:{"& .rs-pagination-group":{color:Y.layoutColor[200]},"& .MuiTypography-root":{color:Y.layoutColor[200]},mt:1,ml:2,mr:2,mb:2,height:"80%",backgroundColor:"inherit"},children:[(0,ee.jsx)(g.Z,{pathList:Pe}),(0,ee.jsxs)(l.Z,{children:[(0,ee.jsx)(x.u,{modal_width:"50%",isOpen:j,children:(0,ee.jsx)(Ce,{handleFormData:"add"===S?te:ae,onHandleClose:X,clickedBtn:S,initialValue:"edit"===S?w:{},errorMessage:T,setErrorMessage:k,targetColumn:J,company_id:a})}),(0,ee.jsxs)(l.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[(0,ee.jsx)("div",{children:(0,ee.jsx)(o.Z,{variant:"h5",children:"Manage Campaigns"})}),(0,ee.jsx)("div",{style:{zIndex:1},children:(0,xe.Ve)(ye.KB)&&(0,ee.jsx)(s.Z,{"aria-label":"add",size:"small",sx:{boxShadow:"none",backgroundColor:Y.greenAccent[500]},onClick:()=>{y(!0),P("add")},children:(0,ee.jsx)(r.Z,{title:"Add",children:(0,ee.jsx)(p.Z,{})})})})]}),(0,ee.jsxs)(l.Z,{children:[(0,ee.jsx)(Ze.Z,{isLoading:b,data:d,column:$,handleEditAction:e=>{t("/manage-campaigns",{state:{campaign_id:e.id}})},handleStatusAction:e=>{C(!0);const t={id:e.id,data:{status:1===e.status?0:1}};(0,F.kJ)(t).then((e=>{Q(E,V),C(!1),z("success"),R(e.data.message),G({...N,open:!0}),y(!1)})).catch((e=>{C(!1),k(e.message)}))},isSearchable:!0,isEditable:(0,xe.Ve)(ye.tY),isDeletable:!1,isStatusChangable:(0,xe.Ve)(ye.gv)}),(0,ee.jsx)(m.Z,{style:{marginTop:5},layout:["total","-","pager","skip"],size:"xs",prev:!0,next:!0,first:!0,last:!0,ellipsis:!0,boundaryLinks:!0,total:_,limit:V,maxButtons:5,activePage:E,onChangePage:L,limitOptions:[5,10,25,50,100],onChangeLimit:M})]})]})]}),(0,ee.jsx)(je.Z,{})]})}},15806:(e,t,a)=>{a.d(t,{$8:()=>o,$B:()=>c,Uy:()=>s,Z4:()=>l,j9:()=>i,kJ:()=>r,kN:()=>d,rn:()=>u});var n=a(12581);const i=(e,t)=>(0,n.o)({method:"GET",url:"/campaign?page=".concat(e,"&perpage=").concat(t)}),l=e=>(0,n.o)({method:"GET",url:"/campaign/".concat(e)}),o=e=>(0,n.o)({method:"POST",url:"/campaign",data:e}),s=e=>(0,n.o)({method:"PUT",url:"/campaign/".concat(e.id),data:e.data}),r=e=>(0,n.o)({method:"PATCH",url:"/campaign/changeStatus/".concat(e.id),data:e.data}),d=e=>(0,n.o)({method:"GET",url:"/number/active"}),c=()=>(0,n.o)({method:"GET",url:"/target/active"}),u=()=>(0,n.o)({method:"GET",url:"/company"})}}]);
//# sourceMappingURL=544.33a19eae.chunk.js.map