"use strict";(self.webpackChunkforward_portal=self.webpackChunkforward_portal||[]).push([[679],{3679:(e,t,r)=>{r.r(t),r.d(t,{default:()=>k});var n=r(72791),a=r(73598),o=r(61979),s=r(13967),l=r(44507),i=r(10918),c=r(4708),u=r(35527),d=r(697),p=r(61889),m=r(94070),f=r(93543),h=r(20890),v=r(93044),x=r(94294),g=r(16856),Z=r(56355),w=r(11455),y=r(57689),j=r(39203),b=r(12581);var C=r(80184);const P=(0,o.Z)(),S=n.forwardRef((function(e,t){return(0,C.jsx)(m.Z,{elevation:6,ref:t,variant:"filled",...e})})),k=e=>{const t=(0,s.Z)(),r=(0,y.s0)(),o=(0,i.TV)(t.palette.mode),[m,k]=(0,n.useState)(1),[R,D]=(0,n.useState)(""),[T,A]=(0,n.useState)({open:!1,vertical:"top",horizontal:"right"}),[I,F]=(0,n.useState)(""),[E,M]=(0,n.useState)(!1),[N,z]=(0,n.useState)(""),{vertical:B,horizontal:O,open:L}=T,[V,q]=(0,n.useState)({value:"",error:!1,success:!1}),[_,H]=(0,n.useState)({value:"",error:!1,success:!1}),[K,$]=(0,n.useState)({value:"",error:!1,success:!1}),[G,J]=(0,n.useState)(!1);(0,n.useEffect)((()=>{""!==_.value&&_.value!==K.value&&""!==K.value?J(!0):J(!1)}),[_,K]);const Q=(e,t)=>{"clickaway"!==t&&A({...T,open:!1})},U=()=>{M(!0);let e={email:V.value};var t;(t=e,(0,b.o)({method:"POST",url:"/forgot-password-otp",data:t})).then((e=>{M(!1),z(e.data.message),F("success"),A({...T,open:!0}),setTimeout((()=>k(2)),1e3),D("")})).catch((e=>{M(!1),z(e.message),F("error"),A({...T,open:!0}),k(1),D("")}))},W=e=>{e.preventDefault();let t={otp:R,data:{password:_.value,password_confirmation:K.value}};var n;M(!0),(n=t,(0,b.o)({method:"POST",url:"/password-reset/".concat(n.otp),data:n.data})).then((e=>{M(!1),z(e.data.message),F("success"),A({...T,open:!0}),setTimeout((()=>{r("/")}),1e3),D("")})).catch((e=>{M(!1),z(e.message),F("error"),A({...T,open:!0})}))};let X=""===V.value||V.error||!1===V.success;return(0,C.jsxs)(C.Fragment,{children:[E&&(0,C.jsx)(a.Z,{}),(0,C.jsx)(f.Z,{open:L,anchorOrigin:{vertical:B,horizontal:O},autoHideDuration:2e3,onClose:Q,children:(0,C.jsx)(S,{onClose:Q,severity:I,sx:{width:"100%"},children:N})}),(0,C.jsx)(l.Z,{theme:P,children:(0,C.jsxs)(p.ZP,{container:!0,component:"main",sx:{height:"100vh"},children:[(0,C.jsx)(c.ZP,{}),(0,C.jsx)(p.ZP,{className:"forget_left_grid",item:!0,xs:!1,sm:6,md:6,sx:{backgroundColor:o.primary[500]}}),(0,C.jsx)(p.ZP,{item:!0,xs:12,sm:6,md:6,component:u.Z,elevation:5,square:!0,sx:{boxShadow:"none",paddingLeft:"10px",paddingRight:"10px",margin:"auto"},children:1===m?(0,C.jsx)(d.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",boxShadow:"none !important",width:"100%"},children:(0,C.jsxs)(d.Z,{component:"form",sx:{display:"flex",flexDirection:"column",alignItems:"center",width:"80%",[t.breakpoints.up("md")]:{width:"60%"}},children:[(0,C.jsx)(h.Z,{textAlign:"center",alignItems:"center",children:(0,C.jsx)(v.Z,{sx:{bgcolor:"secondary.main"},children:(0,C.jsx)(g.RTn,{})})}),(0,C.jsx)(h.Z,{variant:"h6",mb:2,mt:2,children:"Forgot your password"}),(0,C.jsx)(h.Z,{variant:"body2",gutterBottom:!0,align:"center",mb:2,children:"Please enter the email address you'd like your password reset otp sent to"}),(0,C.jsx)(j.Z,{type:"email",label:"Email Address",placeholder:"Enter email address",CustomErrorLine:"Please enter a valid email",value:V.value,onChangeText:e=>{q(e)}}),(0,C.jsxs)(d.Z,{sx:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"space-between"},mt:3,children:[(0,C.jsx)(x.Z,{variant:"contained",disabled:X,sx:{textTransform:"none"},onClick:e=>U(),children:"Request OTP"}),(0,C.jsx)(x.Z,{sx:{textTransform:"none"},variant:"outlined",onClick:()=>r("/"),children:"Back To Login"})]})]})}):(0,C.jsx)(d.Z,{sx:{padding:3,display:"flex",flexDirection:"column",alignItems:"center",boxShadow:"none !important",width:"100%"},children:(0,C.jsxs)(d.Z,{component:"form",children:[(0,C.jsxs)(d.Z,{sx:{padding:3,display:"flex",flexDirection:"column",alignItems:"center",boxShadow:"none !important",width:"100%"},children:[(0,C.jsx)(h.Z,{textAlign:"center",alignItems:"center",children:(0,C.jsx)(v.Z,{sx:{bgcolor:"secondary.main"},children:(0,C.jsx)(Z.vc$,{})})}),(0,C.jsx)(h.Z,{variant:"h6",mb:2,mt:2,children:"Set Password"})]}),(0,C.jsxs)(p.ZP,{container:!0,spacing:1,children:[(0,C.jsx)(p.ZP,{item:!0,xs:12,sm:12,md:12,children:(0,C.jsx)(w.P,{mt:2,length:6,TextFieldsProps:{placeholder:"-"},value:R,onChange:e=>{D(e)},validateChar:(e,t)=>(e=>{const t="number"===typeof e,r=!/[a-zA-Z]/gm.test(String(e).toLowerCase());return(t||r&&""!==e)&&!isNaN(Number(e))})(e)})}),(0,C.jsx)(p.ZP,{item:!0,xs:12,sm:12,md:12,children:(0,C.jsxs)(h.Z,{component:"h6",variant:"body2",gutterBottom:!0,align:"right",mt:1,mb:1,children:["Didn't recieve the OTP?",(0,C.jsxs)("strong",{style:{cursor:"pointer"},onClick:e=>U(),children:[" ","Resend"]})]})}),(0,C.jsx)(p.ZP,{item:!0,xs:12,sm:12,md:6,children:(0,C.jsx)(j.Z,{type:"password",label:"Password",placeholder:"Enter Password",CustomErrorLine:"Please enter a proper password",value:_.value,onChangeText:e=>{H(e)},Required:!0})}),(0,C.jsx)(p.ZP,{item:!0,xs:12,sm:12,md:6,children:(0,C.jsx)(j.Z,{type:"password",label:"Confirm Password",placeholder:"Re-enter Password",CustomErrorLine:"Please enter a proper same password",value:K.value,onChangeText:e=>{$(e)},Required:!0,confirmErr:G})})]}),(0,C.jsxs)(d.Z,{sx:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"space-between"},mt:3,children:[(0,C.jsx)(x.Z,{onClick:e=>W(e),sx:{textTransform:"none"},variant:"contained",type:"submit",children:"Reset Password"}),(0,C.jsx)(x.Z,{onClick:()=>r("/"),sx:{textTransform:"none"},variant:"outlined",children:"Back To Login"})]})]})})})]})})]})}},93044:(e,t,r)=>{r.d(t,{Z:()=>w});var n=r(63366),a=r(87462),o=r(72791),s=r(63733),l=r(94419),i=r(66934),c=r(31402),u=r(76189),d=r(80184);const p=(0,u.Z)((0,d.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var m=r(75878),f=r(21217);function h(e){return(0,f.Z)("MuiAvatar",e)}(0,m.Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const v=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],x=(0,i.ZP)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],r.colorDefault&&t.colorDefault]}})((e=>{let{theme:t,ownerState:r}=e;return(0,a.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===r.variant&&{borderRadius:(t.vars||t).shape.borderRadius},"square"===r.variant&&{borderRadius:0},r.colorDefault&&(0,a.Z)({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[600]}))})),g=(0,i.ZP)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Z=(0,i.ZP)(p,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});const w=o.forwardRef((function(e,t){const r=(0,c.Z)({props:e,name:"MuiAvatar"}),{alt:i,children:u,className:p,component:m="div",imgProps:f,sizes:w,src:y,srcSet:j,variant:b="circular"}=r,C=(0,n.Z)(r,v);let P=null;const S=function(e){let{crossOrigin:t,referrerPolicy:r,src:n,srcSet:a}=e;const[s,l]=o.useState(!1);return o.useEffect((()=>{if(!n&&!a)return;l(!1);let e=!0;const o=new Image;return o.onload=()=>{e&&l("loaded")},o.onerror=()=>{e&&l("error")},o.crossOrigin=t,o.referrerPolicy=r,o.src=n,a&&(o.srcset=a),()=>{e=!1}}),[t,r,n,a]),s}((0,a.Z)({},f,{src:y,srcSet:j})),k=y||j,R=k&&"error"!==S,D=(0,a.Z)({},r,{colorDefault:!R,component:m,variant:b}),T=(e=>{const{classes:t,variant:r,colorDefault:n}=e,a={root:["root",r,n&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,l.Z)(a,h,t)})(D);return P=R?(0,d.jsx)(g,(0,a.Z)({alt:i,srcSet:j,src:y,sizes:w,ownerState:D,className:T.img},f)):null!=u?u:k&&i?i[0]:(0,d.jsx)(Z,{ownerState:D,className:T.fallback}),(0,d.jsx)(x,(0,a.Z)({as:m,ownerState:D,className:(0,s.Z)(T.root,p),ref:t},C,{children:P}))}))},11455:(e,t,r)=>{r.d(t,{P:()=>y});var n,a=r(30168),o=r(80184),s=r(72791),l=r(66934),i=r(48550),c=r(697);const u={TextFieldStyled:(0,l.ZP)(i.Z)(n||(n=(0,a.Z)(["\n  input {\n    text-align: center;\n  }\n"])))},d=e=>(0,o.jsx)(u.TextFieldStyled,{...e}),p="ArrowLeft",m="ArrowRight",f="Backspace",h="Home",v="End";function x(e){return e.join("")}function g(e,t){return[...e,t]}function Z(e){const t=s.useRef((()=>{throw new Error("Cannot call an event handler while rendering.")}));return s.useInsertionEffect((()=>{t.current=e})),s.useCallback((function(){for(var e,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return null===(e=t.current)||void 0===e?void 0:e.call(t,...n)}),[])}const w=()=>!0,y=s.forwardRef(((e,t)=>{const{value:r="",length:n=4,autoFocus:a=!1,onChange:l,TextFieldsProps:i,onComplete:u,validateChar:y=w,className:j,onBlur:b,...C}=e,P=s.useRef(r),S=Z(u),k=Z((e=>{const t=e.slice(0,n);return{isCompleted:t.length===n,finalValue:t}})),{onPaste:R,onFocus:D,onKeyDown:T,className:A,placeholder:I,onBlur:F,...E}=i||{};s.useEffect((()=>{const{isCompleted:e,finalValue:t}=k(P.current);e&&S(t)}),[n,S,k]);const M=function(e,t){return e<=0?[]:Array.from({length:e},t)}(n,((e,t)=>({character:r[t]||"",inputRef:s.createRef()}))),N=e=>M.findIndex((t=>{let{inputRef:r}=t;return r.current===e})),z=()=>M.map((e=>{let{character:t}=e;return t})),B=(e,t)=>{const r=function(e,t,r){return e.map(((e,n)=>t===n?r:e))}(z(),e,t);return x(r)},O=e=>{var t;null===(t=M[e])||void 0===t||null===(t=t.inputRef.current)||void 0===t||t.select()},L=e=>{e+1!==n&&(M[e+1].character?O(e+1):(e=>{var t;null===(t=M[e])||void 0===t||null===(t=t.inputRef.current)||void 0===t||t.focus()})(e+1))},V=(e,t)=>"function"!=typeof y||y(e,t),q=e=>{const t=N(e.target);if(0===t&&e.target.value.length>1){const{finalValue:t,isCompleted:r}=k(e.target.value);return null!==l&&void 0!==l&&l(t),r&&null!==u&&void 0!==u&&u(t),void O(t.length-1)}const r=e.target.value[0]||"";let n=r;n&&!V(n,t)&&(n="");const a=B(t,n);null===l||void 0===l||l(a);const{isCompleted:o,finalValue:s}=k(a);o&&null!==u&&void 0!==u&&u(s),""!==n?a.length-1<t?O(a.length):L(t):""===r&&a.length<=t&&O(t-1)},_=e=>{e.preventDefault(),e.target.select(),null===D||void 0===D||D(e)},H=e=>{const t=e.target,r=t.selectionStart,n=t.selectionEnd,a=N(t),o=0===r&&0===n;if(t.value===e.key)e.preventDefault(),L(a);else if(f===e.key)if(t.value){if(o){e.preventDefault();const t=B(a,"");null!==l&&void 0!==l&&l(t),t.length<=a&&O(a-1)}}else e.preventDefault(),O(a-1);else p===e.key?(e.preventDefault(),O(a-1)):m===e.key?(e.preventDefault(),O(a+1)):h===e.key?(e.preventDefault(),O(0)):v===e.key&&(e.preventDefault(),O(M.length-1));null===T||void 0===T||T(e)},K=e=>{e.preventDefault();const t=e.clipboardData.getData("text/plain"),r=e.target,a=M.findIndex((e=>{let{character:t,inputRef:n}=e;return""===t||n.current===r})),o=function(e,t,r){return e.reduce(((e,t,n)=>{const{characters:a,restArrayMerged:o}=e;if(n<r)return{restArrayMerged:o,characters:g(a,t)};const[s,...l]=o;return{restArrayMerged:l,characters:g(a,s||"")}}),{restArrayMerged:t,characters:[]}).characters}(z(),function(e){return e.split("")}(t),a).map(((e,t)=>V(e,t)?e:"")),s=x(o);null===l||void 0===l||l(s);const{isCompleted:i,finalValue:c}=k(s);i?(null!==u&&void 0!==u&&u(c),O(n-1)):O(s.length),null===R||void 0===R||R(e)},$=e=>{if(null!==F&&void 0!==F&&F(e),!M.some((t=>{let{inputRef:r}=t;return r.current===e.relatedTarget}))){const{isCompleted:e,finalValue:t}=k(r);null===b||void 0===b||b(t,e)}};return(0,o.jsx)(c.Z,{display:"flex",gap:"20px",alignItems:"center",ref:t,className:"MuiOtpInput-Box ".concat(j||""),...C,children:M.map(((e,t)=>{let{character:r,inputRef:n}=e;return(0,o.jsx)(d,{autoFocus:!!a&&0===t,autoComplete:"one-time-code",value:r,inputRef:n,className:"MuiOtpInput-TextField MuiOtpInput-TextField-".concat(t+1," ").concat(A||""),onPaste:K,onFocus:_,onChange:q,onKeyDown:H,onBlur:$,placeholder:"function"==typeof I?I(t):I,...E},t)}))})}))}}]);
//# sourceMappingURL=679.4088c885.chunk.js.map