"use strict";(self.webpackChunkforward_portal=self.webpackChunkforward_portal||[]).push([[882],{56512:(e,t,a)=>{a.d(t,{Z:()=>s});a(72791);var n=a(94294),o=a(80184);const s=e=>{const{onAddclick:t,isDisable:a,label:s,...r}=e;return(0,o.jsx)(n.Z,{size:"small",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2,textTransform:"none"},type:"submit",onClick:e=>(e=>{e.preventDefault(),t()})(e),disabled:a,...r,children:s})}},60089:(e,t,a)=>{a.r(t),a.d(t,{default:()=>_});var n=a(72791),o=(a(5462),a(4708)),s=a(35527),r=a(697),i=a(61889),l=a(61979),c=a(13967),d=a(44507),u=a(73598),h=a(20890),m=a(39203),x=a(49418);const p=x.Z["SIGNIN.HEADER.LABEL"],g=x.Z["SIGNIN.EMAIL.LABEL"],v=x.Z["SIGNIN.EMAIL.PLACEHOLDER"],Z=(x.Z["SIGNIN.EMAIL.ERROR"],x.Z["SIGNIN.PASSWORD.LABEL"]),S=x.Z["SIGNIN.PASSWORD.PLACEHOLDER"],f=x.Z["SIGNIN.PASSWORD.ERROR"],j=x.Z["SIGNIN.SUBMIT.LABEL"],E=x.Z["SIGNUP.FORGOT.HYPERTEXT"];x.Z["FORGET.HYPERTEXT"],x.Z["WEBSITE.LABEL"];var I=a(93044),N=a(56512),b=a(50533),R=a(16856),L=a(80184);const w=e=>{const{handleFormData:t}=e,[a,o]=(0,n.useState)({value:"",error:!1,success:!1}),[s,l]=(0,n.useState)({value:"",error:!1,success:!1});let c=a.error||s.error||""===a.value||""===s.value||!1===a.success||!1===s.success;return(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(I.Z,{sx:{bgcolor:"secondary.main"},children:(0,L.jsx)(R.RTn,{})}),(0,L.jsx)(h.Z,{variant:"h6",mb:2,mt:2,children:p}),(0,L.jsxs)(r.Z,{component:"form",className:"login_right_box",noValidate:!0,children:[(0,L.jsx)(i.ZP,{children:(0,L.jsx)(m.Z,{type:"email",label:g,placeholder:v,CustomErrorLine:"Please enter a valid email",value:a.value,onChangeText:e=>{o(e)},Required:!0})}),(0,L.jsx)(i.ZP,{children:(0,L.jsx)(m.Z,{type:"password",label:Z,placeholder:S,CustomErrorLine:f,value:s.value,onChangeText:e=>{l(e)},Required:!0})}),(0,L.jsx)(h.Z,{component:"h4",variant:"caption",gutterBottom:!0,textAlign:"end",children:(0,L.jsx)(b.Z,{sx:{textDecoration:"none"},href:"/forgotpassword",children:E})}),(0,L.jsx)(i.ZP,{mt:1,children:(0,L.jsx)(N.Z,{onAddclick:e=>{const n={email:a.value,password:s.value};t(n)},label:j,isDisable:c})})]}),(0,L.jsx)("div",{className:"signup_div",children:(0,L.jsxs)(h.Z,{component:"h5",variant:"body2",gutterBottom:!0,align:"center",mt:3,mb:3,children:["Don't have an account ?"," ",(0,L.jsx)(b.Z,{sx:{textDecoration:"none"},href:"/signup",children:"Register Now"})]})})]})};var A=a(10918),P=a(57689),T=a(94070),D=a(93543),y=a(12581);var O=a(55294);const k=(0,l.Z)(),C=n.forwardRef((function(e,t){return(0,L.jsx)(T.Z,{elevation:6,ref:t,variant:"filled",...e})})),_=e=>{const t=(0,c.Z)(),a=(0,P.s0)(),l=(0,A.TV)(t.palette.mode),{loading_signin:h}=e,[m,x]=(0,n.useState)(!1),[p,g]=(0,n.useState)(null),[v,Z]=(0,n.useState)(),[S,f]=(0,n.useState)(""),[j,E]=(0,n.useState)({open:!1,vertical:"top",horizontal:"right"}),[I,N]=(0,n.useState)(""),{vertical:b,horizontal:R,open:T}=j,_=(e,t)=>{"clickaway"!==t&&E({...j,open:!1})};(0,n.useEffect)((()=>{x(h)}),[h]);return(0,n.useEffect)((()=>{let e={"Content-Type":"application/json"};null!==p&&(e.Authorization="Bearer ".concat(v.token),O.Z.get("".concat("http://139.84.169.123/portalforwarding/backend/public/api","/permission/permission-by-group/").concat(p),{headers:e}).then((e=>{var t,n;const o=null===(t=e.data)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.role_permissions.map((e=>e.slug));localStorage.setItem("authorization",JSON.stringify(o)),localStorage.setItem("user",JSON.stringify(v)),f("Login Successfully"),N("success"),E({...j,open:!0}),setTimeout((()=>{a("/"),window.location.reload()}),500)})).catch((e=>{console.log(e)})))}),[p]),(0,L.jsxs)(L.Fragment,{children:[m&&(0,L.jsx)(u.Z,{}),(0,L.jsx)(D.Z,{open:T,anchorOrigin:{vertical:b,horizontal:R},autoHideDuration:2e3,onClose:_,children:(0,L.jsx)(C,{onClose:_,severity:I,sx:{width:"100%"},children:S})}),(0,L.jsx)(d.Z,{theme:k,children:(0,L.jsxs)(i.ZP,{container:!0,component:"main",sx:{height:"100vh"},children:[(0,L.jsx)(o.ZP,{}),(0,L.jsx)(i.ZP,{className:"login_left_grid",item:!0,xs:!1,sm:6,md:6,sx:{backgroundColor:l.primary[500]}}),(0,L.jsx)(i.ZP,{item:!0,xs:12,sm:6,md:6,component:s.Z,elevation:5,square:!0,sx:{boxShadow:"none",paddingLeft:"10px",paddingRight:"10px",margin:"auto"},children:(0,L.jsx)(r.Z,{sx:{padding:3,display:"flex",flexDirection:"column",alignItems:"center",boxShadow:"none !important",width:"100%"},children:(0,L.jsx)(w,{handleFormData:e=>{var t;x(!0),(t=e,(0,y.o)({method:"POST",url:"/login",data:t})).then((e=>{var t,a,n;x(!1);const o={user_id:e.data.data.id,token:e.data.data.token,user_data:e.data.data};Z(o),g(null===(t=e.data)||void 0===t||null===(a=t.data)||void 0===a||null===(n=a.roles[0])||void 0===n?void 0:n.slug)})).catch((t=>{403===t.code?(N("warning"),f(t.message),E({...j,open:!0}),setTimeout((()=>{a("/verify",{state:{login_id:e.email}})}),2e3)):(t.code,f(t.message),N("error"),E({...j,open:!0})),x(!1)}))}})})})]})})]})}}}]);
//# sourceMappingURL=882.477ed62e.chunk.js.map