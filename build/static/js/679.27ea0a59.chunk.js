"use strict";(self.webpackChunkforward_portal=self.webpackChunkforward_portal||[]).push([[679],{3679:(e,t,s)=>{s.r(t),s.d(t,{default:()=>T});var r=s(72791),n=s(73598),a=s(61979),o=s(13967),i=s(44507),l=s(10918),d=s(4708),c=s(35527),x=s(697),m=s(61889),h=s(94070),u=s(93543),p=s(20890),g=s(93044),j=s(94294),v=s(16856),f=s(56355),w=s(11455),Z=s(57689),b=s(39203),P=s(12581);var y=s(80184);const C=(0,a.Z)(),S=r.forwardRef((function(e,t){return(0,y.jsx)(h.Z,{elevation:6,ref:t,variant:"filled",...e})})),T=e=>{const t=(0,o.Z)(),s=(0,Z.s0)(),a=(0,l.TV)(t.palette.mode),[h,T]=(0,r.useState)(1),[k,D]=(0,r.useState)(""),[R,E]=(0,r.useState)({open:!1,vertical:"top",horizontal:"right"}),[L,I]=(0,r.useState)(""),[O,_]=(0,r.useState)(!1),[q,z]=(0,r.useState)(""),{vertical:A,horizontal:B,open:N}=R,[F,H]=(0,r.useState)({value:"",error:!1,success:!1}),[V,$]=(0,r.useState)({value:"",error:!1,success:!1}),[G,J]=(0,r.useState)({value:"",error:!1,success:!1}),[K,M]=(0,r.useState)(!1);(0,r.useEffect)((()=>{""!==V.value&&V.value!==G.value&&""!==G.value?M(!0):M(!1)}),[V,G]);const Q=(e,t)=>{"clickaway"!==t&&E({...R,open:!1})},U=()=>{_(!0);let e={email:F.value};var t;(t=e,(0,P.o)({method:"POST",url:"/forgot-password-otp",data:t})).then((e=>{_(!1),z(e.data.message),I("success"),E({...R,open:!0}),setTimeout((()=>T(2)),1e3),D("")})).catch((e=>{_(!1),z(e.message),I("error"),E({...R,open:!0}),T(1),D("")}))},W=e=>{e.preventDefault();let t={otp:k,data:{password:V.value,password_confirmation:G.value}};var r;_(!0),(r=t,(0,P.o)({method:"POST",url:"/password-reset/".concat(r.otp),data:r.data})).then((e=>{_(!1),z(e.data.message),I("success"),E({...R,open:!0}),setTimeout((()=>{s("/")}),1e3),D("")})).catch((e=>{_(!1),z(e.message),I("error"),E({...R,open:!0})}))};let X=""===F.value||F.error||!1===F.success;return(0,y.jsxs)(y.Fragment,{children:[O&&(0,y.jsx)(n.Z,{}),(0,y.jsx)(u.Z,{open:N,anchorOrigin:{vertical:A,horizontal:B},autoHideDuration:2e3,onClose:Q,children:(0,y.jsx)(S,{onClose:Q,severity:L,sx:{width:"100%"},children:q})}),(0,y.jsx)(i.Z,{theme:C,children:(0,y.jsxs)(m.ZP,{container:!0,component:"main",sx:{height:"100vh"},children:[(0,y.jsx)(d.ZP,{}),(0,y.jsx)(m.ZP,{className:"forget_left_grid",item:!0,xs:!1,sm:6,md:6,sx:{backgroundColor:a.primary[500]}}),(0,y.jsx)(m.ZP,{item:!0,xs:12,sm:6,md:6,component:c.Z,elevation:5,square:!0,sx:{boxShadow:"none",paddingLeft:"10px",paddingRight:"10px",margin:"auto"},children:1===h?(0,y.jsx)(x.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",boxShadow:"none !important",width:"100%"},children:(0,y.jsxs)(x.Z,{component:"form",sx:{display:"flex",flexDirection:"column",alignItems:"center",width:"80%",[t.breakpoints.up("md")]:{width:"60%"}},children:[(0,y.jsx)(p.Z,{textAlign:"center",alignItems:"center",children:(0,y.jsx)(g.Z,{sx:{bgcolor:"secondary.main"},children:(0,y.jsx)(v.RTn,{})})}),(0,y.jsx)(p.Z,{variant:"h6",mb:2,mt:2,children:"Forgot your password"}),(0,y.jsx)(p.Z,{variant:"body2",gutterBottom:!0,align:"center",mb:2,children:"Please enter the email address you'd like your password reset otp sent to"}),(0,y.jsx)(b.Z,{type:"email",label:"Email Address",placeholder:"Enter email address",CustomErrorLine:"Please enter a valid email",value:F.value,onChangeText:e=>{H(e)}}),(0,y.jsxs)(x.Z,{sx:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"space-between"},mt:3,children:[(0,y.jsx)(j.Z,{variant:"contained",disabled:X,sx:{textTransform:"none"},onClick:e=>U(),children:"Request OTP"}),(0,y.jsx)(j.Z,{sx:{textTransform:"none"},variant:"outlined",onClick:()=>s("/"),children:"Back To Login"})]})]})}):(0,y.jsx)(x.Z,{sx:{padding:3,display:"flex",flexDirection:"column",alignItems:"center",boxShadow:"none !important",width:"100%"},children:(0,y.jsxs)(x.Z,{component:"form",children:[(0,y.jsxs)(x.Z,{sx:{padding:3,display:"flex",flexDirection:"column",alignItems:"center",boxShadow:"none !important",width:"100%"},children:[(0,y.jsx)(p.Z,{textAlign:"center",alignItems:"center",children:(0,y.jsx)(g.Z,{sx:{bgcolor:"secondary.main"},children:(0,y.jsx)(f.vc$,{})})}),(0,y.jsx)(p.Z,{variant:"h6",mb:2,mt:2,children:"Set Password"})]}),(0,y.jsxs)(m.ZP,{container:!0,spacing:1,children:[(0,y.jsx)(m.ZP,{item:!0,xs:12,sm:12,md:12,children:(0,y.jsx)(w.P,{mt:2,length:6,TextFieldsProps:{placeholder:"-"},value:k,onChange:e=>{D(e)},validateChar:(e,t)=>(e=>{const t="number"===typeof e,s=!/[a-zA-Z]/gm.test(String(e).toLowerCase());return(t||s&&""!==e)&&!isNaN(Number(e))})(e)})}),(0,y.jsx)(m.ZP,{item:!0,xs:12,sm:12,md:12,children:(0,y.jsxs)(p.Z,{component:"h6",variant:"body2",gutterBottom:!0,align:"right",mt:1,mb:1,children:["Didn't recieve the OTP?",(0,y.jsxs)("strong",{style:{cursor:"pointer"},onClick:e=>U(),children:[" ","Resend"]})]})}),(0,y.jsx)(m.ZP,{item:!0,xs:12,sm:12,md:6,children:(0,y.jsx)(b.Z,{type:"password",label:"Password",placeholder:"Enter Password",CustomErrorLine:"Please enter a proper password",value:V.value,onChangeText:e=>{$(e)},Required:!0})}),(0,y.jsx)(m.ZP,{item:!0,xs:12,sm:12,md:6,children:(0,y.jsx)(b.Z,{type:"password",label:"Confirm Password",placeholder:"Re-enter Password",CustomErrorLine:"Please enter a proper same password",value:G.value,onChangeText:e=>{J(e)},Required:!0,confirmErr:K})})]}),(0,y.jsxs)(x.Z,{sx:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"space-between"},mt:3,children:[(0,y.jsx)(j.Z,{onClick:e=>W(e),sx:{textTransform:"none"},variant:"contained",type:"submit",children:"Reset Password"}),(0,y.jsx)(j.Z,{onClick:()=>s("/"),sx:{textTransform:"none"},variant:"outlined",children:"Back To Login"})]})]})})})]})})]})}}}]);
//# sourceMappingURL=679.27ea0a59.chunk.js.map